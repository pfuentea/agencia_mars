{% extends './base.html' %}
{% block content %}
<h2>Usuarios - Participantes</h2>

<div class="container">
    {% ifequal accion "default" %}
    <div class="row">
        <div class="col">
            <div class="table-responsive">
                <table id="usuarios" class="table table-striped table-bordered" width="100%" >
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Participante</th>
                            <th>Edad</th>
                            <th>Sexo</th>
                            <th>Comuna</th>
                            <th>Ciudad</th>
                            <th>Correo</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                    {% for p in participantes %}  
                        <tr>
                            <td>
                                {{p.id}}
                            </td>
                            <td>
                                <a href="/usuarios/{{p.id}}">
                                    {{p.name}} 
                                </a>
                            </td>
                            <td>
                                {{p.edad}}
                            </td>
                            <td>
                                {{p.sexo}}
                            </td>
                            <td>
                                {{p.comuna}}
                            </td>
                            <td>
                                {{p.ciudad}}
                            </td>
                            <td>
                                {{p.email}}
                            </td>
                        </tr>  
                    {% empty %}     
                    <tr>
                        <td> No existen caracteristicas asociadas a√∫n</td>
                        
                    </tr>
                    {% endfor %}
                    </tbody>    
                </table>
            </div>
        </div>
    </div>
    {% endifequal %}
    {% ifequal accion "detalle" %}
    <div class="row">
        <div class="col">
            <h1>Detalles del usuario <b>{{Usuario.name}}</b> </h1>
        </div>
    </div>
    <div class="row">
        <div class="col">
            Correo : {{Usuario.email}}
        </div>
    </div>
    <div class="row">
        <div class="col">
            Edad : {{Usuario.edad}}
        </div>
    </div>
    <div class="row">
        <div class="col">
            Sexo : {{Usuario.sexo}}
        </div>
    </div>
    <div class="row">
        <div class="col">
            Comuna : {{Usuario.comuna}}
        </div>
    </div>
    <div class="row">
        <div class="col">
            Ciudad : {{Usuario.ciudad}}
        </div>
    </div>
    <div class="row">
        <div class="col">
            Rol : {{Usuario.role}}
        </div>
    </div>
    <a href="/usuarios" class="btn btn-sm btn-primary">Volver a Usuarios</a>
    {% endifequal %}

</div>

<script>
    $(document).ready(function() {
        var oTblReport = $('#usuarios')
        oTblReport.DataTable({
            dom: 'Bfrtip',
            buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
            ],
            "search": 'Buscar',
            "aLengthMenu":[[5,10,15,25,-1],[5,10,15,25,"All"]],
            "iDisplayLength":15
        });
    
    });
</script>

{% endblock %}